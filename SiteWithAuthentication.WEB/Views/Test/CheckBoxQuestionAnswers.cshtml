@using SiteWithAuthentication.WEB.Models.UserAnswerViewModel
@using MvcCheckBoxList.Model
@model UserQuestionAnswersViewModel

<div id="ajaxResults">
    <div class="col-md-12">
        @{
            if (Model.Question != null)
            {
                <div class="form-group">
                    @Html.LabelFor(modelItem => modelItem.Question, Model.Question, new { style = "white-space: pre-wrap" })
                </div>
            }
        }
    </div>

    <div class="col-md-12">
        @{
            if (Model.ResourceRef != null)
            {
                <div class="form-group">
                    <img src="../../@Model.ResourceRef" alt="@Model.Question" height="300" />
                </div>
            }
        }
    </div>

    <div class="col-md-12">
        <section class="checkBoxListFor">
            <label>Please select your answer(s):</label>
            <br />
            @using (Ajax.BeginForm("CheckBoxQuestionAnswers", new AjaxOptions { UpdateTargetId = "ajaxResults" }))
            {
                @Html.AntiForgeryToken()
                @Html.CheckBoxListFor(model => model.PostedUserAnswers.AnswerIds,
                           model => model.AvailableUserAnswers,
                           item => item.Id,
                           item => item.Answer,
                           model => model.SelectedUserAnswers,
                           Position.Vertical,
                           item => new { @class = "userAnswer", style = "font-weight: normal" })
                @Html.HiddenFor(model => model.QuestionId, new { id = "QuestionId" })
                <input id="submitButton" type="submit" hidden="hidden" />
            }
        </section>
    </div>
</div>
