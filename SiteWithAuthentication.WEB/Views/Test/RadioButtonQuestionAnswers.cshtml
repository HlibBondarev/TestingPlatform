@using SiteWithAuthentication.WEB.Models.UserAnswerViewModel
@model UserQuestionAnswersViewModel

<div id="ajaxResults">
    <div class="col-md-12">
        @{
            if (Model.Question != null)
            {
                <div class="form-group">
                    @Html.LabelFor(modelItem => modelItem.Question, Model.Question, new { style = "white-space: pre-wrap" })
                </div>
            }
        }
    </div>

    <div class="col-md-12">
        @{
            if (Model.ResourceRef != null)
            {
                <div class="form-group">
                    <img src="../../@Model.ResourceRef" alt="@Model.Question" height="300" />
                </div>
            }
        }
    </div>
    <div class="col-md-12">
        <section class="checkBoxListFor">
            <label>Please select your answer:</label>
            <br />
            @using (Ajax.BeginForm("RadioButtonQuestionAnswers", new AjaxOptions { UpdateTargetId = "ajaxResults" }))
            {
                @Html.AntiForgeryToken()

                foreach (var item in Model.AvailableUserAnswers)
                {
                    if (Model.SelectedUserAnswers.Count() != 0 && item.Id == Model.SelectedUserAnswers.FirstOrDefault().Id)
                    {
                        @Html.RadioButton("IsSelected", item.Id, true, new { id = "IsSelected", @class = "userAnswer" })
                    }
                    else
                    {
                        @Html.RadioButton("IsSelected", item.Id, false, new { id = "IsSelected", @class = "userAnswer" })
                    }
                    <span> </span> @Html.Label(item.Answer, item.Answer, new { style = "font-weight: normal" })
                    <br />
                }
                @Html.HiddenFor(model => model.QuestionId)
                <input id="submitButton" type="submit" hidden="hidden" />
            }
        </section>
    </div>
</div>
